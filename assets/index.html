<!DOCTYPE html>
<html>
<head>
  <title>Hjem</title>
  <link rel="stylesheet" href="dark.css">
  <link rel="icon" type="image/png" href="decals/icon.png">
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const favicons = [
        "decals/icon.png",
        "decals/icon2.png",
        "decals/icon3.png"
      ];

      const randomIndex = Math.floor(Math.random() * favicons.length);
      document.querySelectorAll("link[rel='icon']").forEach(el => el.remove());
      const newFavicon = document.createElement("link");
      newFavicon.rel = "icon";
      newFavicon.type = "image/png";
      newFavicon.href = favicons[randomIndex];
      document.head.appendChild(newFavicon);
    });
  </script>
  <style>
    body {
      opacity: 0;
      transition: opacity 0.35s ease-in-out;
    }

    body.fade-in {
      opacity: 1;
    }

    body.fade-out {
      opacity: 0;
    }

    main {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      font-family: sans-serif;
      font-size: 2rem;
    }
    #overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: black;
      color: white;
      font-size: 3rem;
      font-weight: 900;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 99999;
      font-family: sans-serif;
      transition: opacity 0.35s ease-in-out;
    }

    #overlay.fade-out {
      opacity: 0;
    }
  </style>
</head>
<body>
  <div id="overlay">
    <div id="overlay-text">klik lige for lyd</div>
  </div>
  <audio id="lyd1" src="lyd/lyd1.wav"></audio>
  <audio id="lyd2" src="lyd/lyd2.wav"></audio>
  <audio id="lyd3" src="lyd/lyd3.wav"></audio>
  <audio id="lyd4" src="lyd/select.wav"></audio>
  <audio id="tung" src="lyd/tung.mp3"></audio>
  <audio id="bg-music" autoplay muted></audio>

  <div id="bottom-center-text" onclick="muteEllerumuted()"></div>
  <h1 id="random-text" onclick="nytext()"></h1>
  <h4>(version: 0.11)</h4>
  <ul>
    <li><a id="links" href="beregnprocentdelen_og_beregnnyprisefterrabat.html" onclick="spil_random_kliklyd()">Minecraft</a></li>
    <li><a id="links" href="gratis-tyske-ordbog.html" onclick="spil_random_kliklyd()">Slope</a></li>
    <li><a id="links" href="hvorfor-skal-vi-laere-dansk-naar-vi-taler-dansk.html" onclick="spil_random_kliklyd()">Swords and Sandals 2</a></li>
    <li><a id="links" href="hvordan-laver-jeg-en-rigtig-essay.html" onclick="spil_random_kliklyd()">Short life 2</a></li>
    <li><a id="links" href="krus-og-bolle-komma.html" onclick="spil_random_kliklyd()">Break The Tower!</a></li>
    <li><a id="links" href="et-eller-en.html" onclick="spil_random_kliklyd()">physics geam</a></li>
    <li><a id="links" href="intetkoen-og-faelleskoen.html" onclick="spil_random_kliklyd()">Dreader</a></li>
    <li><a id="links" href="areal.html">Moto X3M</a></li>
    <li><a id="links" href="ku-eller-kun.html">Fill Maze</a></li>
  </ul>
  <li id="devlog"><a href="devlog.html">devlog</a></li>
  <h2 id="lavet">lavet af UnknownUnsourced</h2>

  <script>
    document.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const url = this.href;
        document.body.classList.add('fade-out');
        setTimeout(() => {
          window.location.href = url;
        }, 350);
      });
    });
  </script>

  <script>
    const random_text = [
      "spiller du i timen!?",
      "vidste ikke du kunne få minecraft på din browser",
      "hvor fandt du denne website???",
      "må jeg tis i din mund???????????",
      '"vi spiller fortnite. vi spiller all day, all night."',
      "andreas odbjerg er ik' min yndlings",
      "fuck de socialdemokratier.",
      "wallah, må jeg få min telefon?",
      "100% HTML (github)",
      "Hva' så, Spasser?",
      "tung tung tung tung tung tung tung tung tung tung tung tung tung sahur",
      "midt om natten"
    ];

    function stop_lyd_af_ID(ID) {
      const lyd = document.getElementById(ID);
      lyd.pause();
      lyd.currentTime = 0;
    }

    function spil_lyd_af_ID(ID) {
      const lyd = document.getElementById(ID);
      lyd.play();
    }

    function nytext() {
      const randomIndex = Math.floor(Math.random() * random_text.length);
      stop_lyd_af_ID("tung");
      if (randomIndex === 10) {
        spil_lyd_af_ID("tung");
      } else {
        spil_lyd_af_ID("lyd4");
      }
      document.getElementById("random-text").textContent = random_text[randomIndex];
    }

    window.addEventListener("load", () => {
      document.body.classList.add("fade-in");
      nytext();
    });
  </script>

  <script>
    function spil_random_kliklyd() {
      const allelyd = [
        "lyd1",
        "lyd2",
        "lyd3",
        "lyd4"
      ]
      const lydID = Math.floor(Math.random() * allelyd.length);
      const randomlyd = document.getElementById(allelyd[lydID]);
      randomlyd.play();
    }
  </script>

  <script>
    const musicfiles = [
      "https://unknownunsourced.github.io/web-database-assets/data/lyd/1.mp3",
      "https://unknownunsourced.github.io/web-database-assets/data/lyd/2.mp3",
      "https://unknownunsourced.github.io/web-database-assets/data/lyd/3.mp3",
      "https://unknownunsourced.github.io/web-database-assets/data/lyd/4.mp3"
    ]

    const navn = [
      "Baku - KESI, ICEKID",
      "Storebror - Noah Carter",
      "E.T.A - KESI, Gilli",
      "Signaler - MAS, Kundo"
    ]

    let ligenu = 0;
    const randomIndex = Math.floor(Math.random() * musicfiles.length);
    ligenu = randomIndex;
    const musik = document.getElementById("bg-music");
    const tekst = document.getElementById("bottom-center-text");

    function spilmusik(id) {
      musik.src = musicfiles[id];
      musik.play();
      if (musik.muted) {
        tekst.textContent = "Spiller nu: " + navn[id];
      } else {
        tekst.textContent = "Musikken er muted"
      }
    }

    musik.addEventListener("ended", function() {
      ligenu = (ligenu + 1) % musicfiles.length;
      spilmusik(ligenu);
    });

    window.addEventListener("click", function startMusik() {
      if (musik.paused) {
        musik.muted = true;
        musik.volume = 0.25;
        spilmusik(ligenu);
        const overlay = document.getElementById("overlay");
        window.removeEventListener("click", startMusik);
        document.getElementById("bottom-center-text").textContent = "Musikken er pauset\n(klik mig for at unmute)";
      }
    });

    function muteEllerumuted() {
      if (musik.muted) {
        musik.muted = false;
        musik.play();
        document.getElementById("bottom-center-text").textContent = "Spiller nu: " + navn[ligenu];
      } else {
        musik.muted = true;
        musik.pause();
        document.getElementById("bottom-center-text").textContent = "Musikken er pauset";
      }
    }

    window.addEventListener("click", function() {
      const overlay = document.getElementById("overlay");
      if (overlay) {
        overlay.classList.add("fade-out");
        setTimeout(() => {
          overlay.remove();
        }, 350);
      }
    });
  </script>
</body>
</html>
